version: '2'

tasks:
  build:
    cmds:
      - go build -o bin/bibliotheca -v -i cmd/bibliotheca/main.go

  run:
    cmds:
      - go run cmd/bibliotheca/main.go

  fmt:
    cmds:
      - go fmt ./...

  dc-build:
    cmds:
      - docker-compose build

env:
  DOCKER_BUILDKIT: 1
  COMPOSE_DOCKER_CLI_BUILD: 1
